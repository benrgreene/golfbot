const z=r=>{const e=[];for(let l=0;l<r.length;l++){e[l]=[];for(let t=0;t<r[l].length;t++){let o=[[l,t-1],[l,t+1],[l-1,t-1],[l-1,t],[l-1,t+1],[l+1,t-1],[l+1,t],[l+1,t+1]].reduce((e,l)=>{return e+((r[l[0]]||[])[l[1]]||0)},0);e[l][t]=1==r[l][t]?o<2?0:o<4?1:o>3?0:1:3==o?1:0}}return e};let v=new Array(20).fill(0).map(()=>new Array(20).fill(0).map(()=>Math.floor(2*Math.random())));for(;;)v=z(v),console.log(v);